<html xmlns:th="http://www.thymeleaf.org">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
<script>

$(document).ready(function() {
	$("#registerButton").click(function(event){
		event.preventDefault();
		var d = JSON.stringify({email:$("#email").val(),password:$("#password").val(),name:$("#name").val(),surname:$("#surname").val(),surname:$("#profilePic").val()})
		console.log(d);
		$.post({
			url:"http://localhost:8080/register",
			data: d,
            success:function(data){
				console.log(data);
                alert(data)
            }
		});
	});
	function readURL(input){
		var reader = new FileReader();

        reader.onload = function (e) {
            document.getElementById('profilePic').src =  e.target.result;
        }

        reader.readAsDataURL(input.files[0]);
	};
	$("#file").change(function(){
        readURL(this);
    });
});
</script>
<div>
		<form method = "post">
			<label>Email</label>
			<input type="text" id = "email" required>
			<label>Password</label>
			<input type="password" id = "password" required>
			<label>Name</label>
			<input type="text" id = "name" required>
			<label>Surname</label>
			<input type="text" id = "surname" required>
			<input type="file" id="file" required/>
			Preview:
			<img src="" height="50" width="50" id="profilePic"/>
			<button id="registerButton">Register</button>
		</form>
</div></html>